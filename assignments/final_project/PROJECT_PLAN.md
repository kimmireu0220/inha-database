# AIRLINE Reservation System - 프로젝트 계획서

## 📋 프로젝트 개요
AIRLINE 데이터베이스를 기반으로 한 항공기 예약 시스템 구현

## 🎯 요구사항 정리

### 데이터베이스 엔티티
1. **AIRPORT** - 공항 정보 (Airport_code)
2. **AIRPLANE_TYPE** - 항공기 타입 정보
3. **AIRPLANE** - 항공기 정보 (Airplane_id, AIRPLANE_TYPE 참조)
4. **CAN_LAND** - AIRPLANE_TYPE과 AIRPORT 간 착륙 가능 관계
5. **FLIGHT** - 항공편 정보 (Flight_number)
6. **FLIGHT_LEG** - 항공편 구간 정보 (Flight_number, Leg_number)
7. **LEG_INSTANCE** - 항공편 구간 인스턴스 (날짜별)
8. **FARE** - 항공편 요금 정보 (Flight_number)
9. **SEAT_RESERVATION** - 좌석 예약 정보

### 제약조건
1. FLIGHT_LEG 존재 여부 확인
2. AIRPLANE 존재 여부 확인
3. CAN_LAND 관계 확인 (항공기 타입이 도착 공항에 착륙 가능한지)
4. 사용 가능 좌석 수 = AIRPLANE_TYPE의 좌석 수
5. FLIGHT 존재 여부 확인
6. AIRPORT 존재 여부 확인 (출발/도착)

### 기능 요구사항

#### 관리자 페이지 (50점)
- 공항 정보 CRUD (10점)
- 항공기 정보 CRUD (20점)
- 항공편 정보 CRUD (20점)

#### 사용자 페이지 (50점)
- 예약하기
- 예약조회
- 예약취소
- 트랜잭션 설계 포함

### 평가 항목
- 보고서 작성: 30점
- ERD 작성: 30점
- 제약조건 우수성: 30점
- 정규화 작업 우수성: 30점
- 성능(index) 최적화 우수성: 30점

---

## 📝 단계별 구현 계획

### Phase 1: 데이터베이스 설계 및 스키마 작성 ⭐ (최우선)
**목표**: ERD 설계 및 데이터베이스 스키마 완성

#### 1.1 ERD 설계
- [ ] 엔티티 및 속성 정의
- [ ] 관계(Relationship) 정의
- [ ] MySQL Workbench로 EER Diagram 작성
- [ ] 정규화 검증 (1NF, 2NF, 3NF)

#### 1.2 데이터베이스 스키마 SQL 작성
- [ ] CREATE DATABASE 문
- [ ] CREATE TABLE 문 (모든 테이블)
- [ ] PRIMARY KEY, FOREIGN KEY 제약조건
- [ ] CHECK 제약조건 (비즈니스 로직)
- [ ] UNIQUE 제약조건
- [ ] NOT NULL 제약조건
- [ ] CREATE INDEX 문 (성능 최적화)
- [ ] CREATE VIEW 문 (복잡한 쿼리 뷰)
- [ ] 샘플 데이터 INSERT 문

**예상 소요 시간**: 2-3시간

---

### Phase 2: 데이터베이스 인프라 구축
**목표**: 데이터베이스 연결 및 기본 쿼리 함수 작성

#### 2.1 데이터베이스 연결 설정
- [ ] `database/sql.js` 완성
- [ ] AIRLINE 데이터베이스 생성 및 연결 테스트
- [ ] 연결 풀 설정 최적화

#### 2.2 기본 SQL 쿼리 함수 작성
- [ ] SELECT 쿼리 함수 (모든 테이블)
- [ ] INSERT 쿼리 함수
- [ ] UPDATE 쿼리 함수
- [ ] DELETE 쿼리 함수
- [ ] 제약조건 검증 함수

**예상 소요 시간**: 1-2시간

---

### Phase 3: 관리자 페이지 구현
**목표**: 공항/항공기/항공편 정보 관리 기능 구현

#### 3.1 공항 정보 관리 (10점)
- [ ] 공항 목록 조회 페이지
- [ ] 공항 추가 기능
- [ ] 공항 수정 기능
- [ ] 공항 삭제 기능
- [ ] 제약조건 검증 (삭제 시 참조 무결성)

#### 3.2 항공기 정보 관리 (20점)
- [ ] 항공기 타입 목록 조회
- [ ] 항공기 목록 조회 페이지
- [ ] 항공기 추가 기능 (AIRPLANE_TYPE 참조)
- [ ] 항공기 수정 기능
- [ ] 항공기 삭제 기능
- [ ] CAN_LAND 관계 관리 기능

#### 3.3 항공편 정보 관리 (20점)
- [ ] 항공편 목록 조회 페이지
- [ ] 항공편 추가 기능
- [ ] FLIGHT_LEG 추가/수정/삭제
- [ ] LEG_INSTANCE 추가/수정/삭제
- [ ] FARE 정보 관리
- [ ] 복잡한 제약조건 검증 (모든 제약조건 적용)

**예상 소요 시간**: 4-5시간

---

### Phase 4: 사용자 페이지 구현
**목표**: 예약 기능 구현 (트랜잭션 포함)

#### 4.1 예약하기 기능
- [ ] 항공편 검색 기능
- [ ] 좌석 선택 기능
- [ ] 예약 정보 입력 폼
- [ ] 예약 트랜잭션 구현
  - [ ] 좌석 가용성 확인
  - [ ] SEAT_RESERVATION INSERT
  - [ ] LEG_INSTANCE의 Available_seats 감소
  - [ ] 트랜잭션 롤백 처리

#### 4.2 예약조회 기능
- [ ] 예약번호/이름으로 조회
- [ ] 예약 상세 정보 표시
- [ ] 예약된 좌석 정보 표시

#### 4.3 예약취소 기능
- [ ] 예약 조회 후 취소
- [ ] 취소 트랜잭션 구현
  - [ ] SEAT_RESERVATION DELETE
  - [ ] LEG_INSTANCE의 Available_seats 증가
  - [ ] 트랜잭션 롤백 처리

**예상 소요 시간**: 3-4시간

---

### Phase 5: 성능 최적화 및 고급 기능
**목표**: 인덱스, 뷰, 트랜잭션 최적화

#### 5.1 인덱스 최적화
- [ ] 자주 조회되는 컬럼에 인덱스 추가
- [ ] 복합 인덱스 설계
- [ ] 쿼리 성능 테스트

#### 5.2 뷰 생성
- [ ] 복잡한 조인 쿼리를 뷰로 생성
- [ ] 예약 정보 조회 뷰
- [ ] 항공편 상세 정보 뷰

#### 5.3 트랜잭션 고도화
- [ ] 트랜잭션 격리 수준 설정
- [ ] 데드락 방지 전략
- [ ] 에러 핸들링 강화

**예상 소요 시간**: 2-3시간

---

### Phase 6: 테스트 및 검증
**목표**: 모든 기능 테스트 및 제약조건 검증

#### 6.1 기능 테스트
- [ ] 관리자 페이지 모든 기능 테스트
- [ ] 사용자 페이지 모든 기능 테스트
- [ ] 제약조건 위반 시나리오 테스트

#### 6.2 데이터 무결성 검증
- [ ] 외래키 제약조건 테스트
- [ ] CHECK 제약조건 테스트
- [ ] 트랜잭션 롤백 테스트

#### 6.3 성능 테스트
- [ ] 인덱스 효과 검증
- [ ] 대량 데이터 처리 테스트

**예상 소요 시간**: 2-3시간

---

### Phase 7: 보고서 작성
**목표**: 최종 보고서 작성 (30점)

#### 7.1 보고서 구성
- [ ] 프로젝트 개요
- [ ] 상세 설계 내용
  - [ ] ERD 설명
  - [ ] 데이터베이스 스키마 설명
  - [ ] 제약조건 설명
  - [ ] 정규화 과정 설명
  - [ ] 인덱스 설계 설명
  - [ ] 뷰 설계 설명
  - [ ] 트랜잭션 설계 설명
- [ ] 실행 화면 (각 기능별 스크린샷)
- [ ] 고찰

#### 7.2 스크린샷 수집
- [ ] 관리자 페이지 스크린샷
- [ ] 사용자 페이지 스크린샷
- [ ] 각 기능별 실행 화면

**예상 소요 시간**: 3-4시간

---

## 📊 전체 일정 요약

| Phase | 작업 내용 | 예상 시간 | 우선순위 |
|-------|----------|----------|---------|
| Phase 1 | 데이터베이스 설계 및 스키마 | 2-3시간 | ⭐⭐⭐ 최우선 |
| Phase 2 | 데이터베이스 인프라 구축 | 1-2시간 | ⭐⭐⭐ |
| Phase 3 | 관리자 페이지 구현 | 4-5시간 | ⭐⭐ |
| Phase 4 | 사용자 페이지 구현 | 3-4시간 | ⭐⭐ |
| Phase 5 | 성능 최적화 | 2-3시간 | ⭐ |
| Phase 6 | 테스트 및 검증 | 2-3시간 | ⭐ |
| Phase 7 | 보고서 작성 | 3-4시간 | ⭐⭐ |
| **총계** | | **17-24시간** | |

---

## 🚀 시작 순서

**지금 바로 시작할 작업: Phase 1 - 데이터베이스 설계 및 스키마 작성**

1. ERD 설계부터 시작
2. 데이터베이스 스키마 SQL 작성
3. 제약조건 정의
4. 정규화 검증

---

## 📌 중요 체크리스트

- [ ] 모든 제약조건이 구현되었는가?
- [ ] 정규화가 제대로 되었는가? (1NF, 2NF, 3NF)
- [ ] 인덱스가 적절히 설계되었는가?
- [ ] 트랜잭션이 올바르게 구현되었는가?
- [ ] 모든 기능이 정상 작동하는가?
- [ ] 보고서에 모든 내용이 포함되었는가?

